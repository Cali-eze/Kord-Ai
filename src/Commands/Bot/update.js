const a0_0xbbf9d5=a0_0xd7c9;(function(_0x5110da,_0x1c9006){const _0x3b78b7=a0_0xd7c9,_0x4e9027=_0x5110da();while(!![]){try{const _0x1a2eba=parseInt(_0x3b78b7(0x19a))/0x1+-parseInt(_0x3b78b7(0x1b3))/0x2+parseInt(_0x3b78b7(0x15b))/0x3+parseInt(_0x3b78b7(0x163))/0x4+parseInt(_0x3b78b7(0x167))/0x5*(-parseInt(_0x3b78b7(0x160))/0x6)+parseInt(_0x3b78b7(0x182))/0x7+parseInt(_0x3b78b7(0x1b4))/0x8*(-parseInt(_0x3b78b7(0x18e))/0x9);if(_0x1a2eba===_0x1c9006)break;else _0x4e9027['push'](_0x4e9027['shift']());}catch(_0x4ddad5){_0x4e9027['push'](_0x4e9027['shift']());}}}(a0_0x2bf0,0x25102));function a0_0xd7c9(_0x5de8ae,_0x596f09){const _0x2bf095=a0_0x2bf0();return a0_0xd7c9=function(_0xd7c9ba,_0x24b6b9){_0xd7c9ba=_0xd7c9ba-0x15b;let _0x48fab2=_0x2bf095[_0xd7c9ba];return _0x48fab2;},a0_0xd7c9(_0x5de8ae,_0x596f09);}const axios=require('axios'),fs=require('fs')['promises'],path=require('path'),AdmZip=require(a0_0xbbf9d5(0x172)),{exec,spawn}=require('child_process'),util=require(a0_0xbbf9d5(0x199)),crypto=require(a0_0xbbf9d5(0x197)),semver=require('semver'),execPromise=util[a0_0xbbf9d5(0x192)](exec),config={'github':{'owner':a0_0xbbf9d5(0x1a5),'repo':a0_0xbbf9d5(0x168)},'paths':{'root':path[a0_0xbbf9d5(0x161)](__dirname,'..','..','..'),'temp':path[a0_0xbbf9d5(0x170)](path[a0_0xbbf9d5(0x161)](__dirname,'..','..','..'),a0_0xbbf9d5(0x16c)),'zip':path[a0_0xbbf9d5(0x170)](path[a0_0xbbf9d5(0x161)](__dirname,'..','..','..'),a0_0xbbf9d5(0x194))},'protected':['node_modules',a0_0xbbf9d5(0x177)]};function a0_0x2bf0(){const _0x30787f=['latest','extractAllToAsync','‚úì\x20Files\x20merged','exports','copyFile','ignore','temp','üîÑ\x20*New\x20update\x20found!\x20Starting\x20update\x20process...*','381990aEpaCe','‚ùå\x20Update\x20failed:\x20','catch','Current:\x20','root','parse','paths','remoteJid','stat','readFile','version','sep','36XJbove','Updates\x20the\x20bot\x20files\x20from\x20the\x20upstream\x20GitHub\x20repository.','github','Removed:\x20','promisify','name','bot-update.zip','key','utf-8','crypto','EISDIR','util','197915xbFPwl','startsWith','Removed\x20directory:\x20','owner','downloadUrl','Skipping\x20deletion\x20of\x20protected\x20path:\x20','get','Skipping\x20protected\x20path:\x20','üîÑ*\x20Installing\x20updates...*','unlink','repo','M3264','from','Update\x20error:','readdir','\x20|\x20Latest:\x20','update','code','unref','Bot','Updated:\x20','some','message','zip','sendMessage','403828AZCaiD','78536FMAVUU','198606Gopmup','‚úÖ\x20ùêîùê©ùêùùêöùê≠ùêû\x20ùêúùê®ùê¶ùê©ùê•ùêûùê≠ùêû!\x20ùêëùêûùê¨ùê≠ùêöùê´ùê≠ùê¢ùêßùê†...','log','isDirectory','https://api.github.com/repos/','18sBVCYS','resolve','map','744352MqCpMg','npm\x20install','path','relative','186305mldjYK','Kord-Ai','‚úÖ\x20Already\x20on\x20latest\x20version!','current','exit','temp_update','üîÑ\x20ùêàùêßùê¨ùê≠ùêöùê•ùê•ùê¢ùêßùê†\x20ùêùùêûùê©ùêûùêßùêùùêûùêßùêúùê¢ùêûùê¨...\x0a\x0a\x0a>\x20ùêèùê•ùêûùêöùê¨ùêû\x20ùêõùêû\x20ùêúùêöùê•ùê¶\x20ùê∞ùê¢ùê≠ùê°\x20ùê≠ùê°ùê¢ùê¨\x20ùêÆùê©ùêùùêöùê≠ùêû\x20ùêöùê¨\x20ùê¢ùê≠\x20ùê¶ùêöùê≤\x20ùê≠ùêöùê§ùêû\x20ùêÆùê©\x20ùê≠ùê®\x2010ùê¶ùê¢ùêßùê¨\x20ùêüùê®ùê´\x20ùê≠ùê°ùêû\x20ùêÆùê©ùêùùêöùê≠ùêû','error','Error\x20removing\x20','join','extname','adm-zip','‚úì\x20Files\x20downloaded\x20and\x20extracted','protected','Error\x20syncing\x20','/releases/latest','Config.js','all','writeFile'];a0_0x2bf0=function(){return _0x30787f;};return a0_0x2bf0();}async function ensureDir(_0x2eb23e){try{await fs['access'](_0x2eb23e);}catch{await fs['mkdir'](_0x2eb23e,{'recursive':!![]});}}async function removeDir(_0x47ed1c){const _0x1d32b1=a0_0xbbf9d5;try{await fs['rm'](_0x47ed1c,{'recursive':!![],'force':!![]});}catch(_0x3f3070){console['log']('Note:\x20Could\x20not\x20remove\x20'+_0x47ed1c+':\x20'+_0x3f3070[_0x1d32b1(0x1b0)]);}}async function getVersions(){const _0x2f8514=a0_0xbbf9d5,_0x234f71=JSON[_0x2f8514(0x187)](await fs[_0x2f8514(0x18b)](path[_0x2f8514(0x170)](config['paths'][_0x2f8514(0x186)],'package.json'),_0x2f8514(0x196))),{data:_0x42c125}=await axios[_0x2f8514(0x1a0)](_0x2f8514(0x15f)+config[_0x2f8514(0x190)][_0x2f8514(0x19d)]+'/'+config[_0x2f8514(0x190)][_0x2f8514(0x1a4)]+_0x2f8514(0x176));return{'current':_0x234f71[_0x2f8514(0x18c)],'latest':_0x42c125['tag_name'],'downloadUrl':_0x42c125['zipball_url']};}async function downloadAndExtract(_0x53251a){const _0x4aa88f=a0_0xbbf9d5,{data:_0x2bac6d}=await axios['get'](_0x53251a,{'responseType':'arraybuffer'});await fs[_0x4aa88f(0x179)](config[_0x4aa88f(0x188)]['zip'],_0x2bac6d);const _0x57354e=new AdmZip(config[_0x4aa88f(0x188)][_0x4aa88f(0x1b1)]);await new Promise((_0x48940a,_0x1c53e3)=>{const _0xb332d4=_0x4aa88f;_0x57354e[_0xb332d4(0x17b)](config[_0xb332d4(0x188)][_0xb332d4(0x180)],!![],_0x27a580=>{if(_0x27a580)_0x1c53e3(_0x27a580);else _0x48940a();});});}async function performUpdate(){const _0x11ae3b=a0_0xbbf9d5,_0x1a4a54=await fs[_0x11ae3b(0x1a8)](config[_0x11ae3b(0x188)][_0x11ae3b(0x180)]),_0x559acb=path['join'](config[_0x11ae3b(0x188)][_0x11ae3b(0x180)],_0x1a4a54[0x0]);await enhancedFileSync(_0x559acb,config[_0x11ae3b(0x188)]['root']);}async function enhancedFileSync(_0x47a509,_0xa069a4){const _0x27c7e9=a0_0xbbf9d5,_0x419ab2=await mapDirectory(_0x47a509),_0x10c169=await mapDirectory(_0xa069a4),_0xfb68df=new Set(config[_0x27c7e9(0x174)][_0x27c7e9(0x162)](_0x1e18bd=>path['resolve'](_0xa069a4,_0x1e18bd))),_0x42cd14=_0x301cb6=>{const _0x5da656=_0x27c7e9,_0x42c998=path[_0x5da656(0x161)](_0x301cb6);return Array[_0x5da656(0x1a6)](_0xfb68df)[_0x5da656(0x1af)](_0x537d87=>_0x42c998===_0x537d87||_0x42c998[_0x5da656(0x19b)](_0x537d87+path[_0x5da656(0x18d)]));};for(const [_0x44e1c1,_0x4797ba]of _0x419ab2){const _0x79f99d=path['join'](_0xa069a4,_0x44e1c1);if(_0x42cd14(_0x79f99d)){console[_0x27c7e9(0x15d)](_0x27c7e9(0x1a1)+_0x44e1c1);continue;}try{await ensureDir(path['dirname'](_0x79f99d)),await fs[_0x27c7e9(0x17e)](_0x4797ba[_0x27c7e9(0x165)],_0x79f99d),console[_0x27c7e9(0x15d)](_0x27c7e9(0x1ae)+_0x44e1c1);}catch(_0x58352f){console[_0x27c7e9(0x15d)](_0x27c7e9(0x175)+_0x44e1c1+':\x20'+_0x58352f[_0x27c7e9(0x1b0)]);}}for(const [_0x43d0c0,_0x21fc77]of _0x10c169){const _0x13b8a4=_0x21fc77[_0x27c7e9(0x165)];if(_0x42cd14(_0x13b8a4)){console[_0x27c7e9(0x15d)](_0x27c7e9(0x19f)+_0x43d0c0);continue;}if(!_0x419ab2['has'](_0x43d0c0))try{await fs[_0x27c7e9(0x1a3)](_0x13b8a4),console['log'](_0x27c7e9(0x191)+_0x43d0c0);}catch(_0x33cece){_0x33cece[_0x27c7e9(0x1ab)]===_0x27c7e9(0x198)?(await fs['rm'](_0x13b8a4,{'recursive':!![],'force':!![]}),console[_0x27c7e9(0x15d)](_0x27c7e9(0x19c)+_0x43d0c0)):console[_0x27c7e9(0x15d)](_0x27c7e9(0x16f)+_0x43d0c0+':\x20'+_0x33cece['message']);}}}async function mapDirectory(_0x40279d,_0x2f9042=_0x40279d){const _0xff9119=new Map();async function _0x360c56(_0x3d285a){const _0x5d6845=a0_0xd7c9,_0x4b4346=await fs['readdir'](_0x3d285a,{'withFileTypes':!![]});for(const _0x429844 of _0x4b4346){const _0x10b713=path[_0x5d6845(0x170)](_0x3d285a,_0x429844[_0x5d6845(0x193)]),_0x4e7c9b=path[_0x5d6845(0x166)](_0x2f9042,_0x10b713);if(_0x429844[_0x5d6845(0x15e)]())await _0x360c56(_0x10b713);else{const _0x55e750=await fs[_0x5d6845(0x18a)](_0x10b713);_0xff9119['set'](_0x4e7c9b,{'path':_0x10b713,'stats':_0x55e750,'type':path[_0x5d6845(0x171)](_0x429844['name'])['toLowerCase']()});}}}return await _0x360c56(_0x40279d),_0xff9119;}async function updateBot(_0xb0df30,_0x12bc6d){const _0x5648f0=a0_0xbbf9d5;try{await ensureDir(config['paths'][_0x5648f0(0x180)]);const _0x144b05=await getVersions();console[_0x5648f0(0x15d)](_0x5648f0(0x185)+_0x144b05['current']+_0x5648f0(0x1a9)+_0x144b05['latest']);if(semver['gt'](_0x144b05[_0x5648f0(0x17a)],_0x144b05[_0x5648f0(0x16a)])){await _0xb0df30[_0x5648f0(0x1b2)](_0x12bc6d[_0x5648f0(0x195)]['remoteJid'],{'text':_0x5648f0(0x181)},{'quoted':_0x12bc6d}),await downloadAndExtract(_0x144b05[_0x5648f0(0x19e)]),console['log'](_0x5648f0(0x173)),await _0xb0df30[_0x5648f0(0x1b2)](_0x12bc6d[_0x5648f0(0x195)][_0x5648f0(0x189)],{'text':_0x5648f0(0x1a2)},{'quoted':_0x12bc6d}),await performUpdate(),console[_0x5648f0(0x15d)](_0x5648f0(0x17c)),await _0xb0df30[_0x5648f0(0x1b2)](_0x12bc6d[_0x5648f0(0x195)][_0x5648f0(0x189)],{'text':_0x5648f0(0x16d)},{'quoted':_0x12bc6d}),await execPromise(_0x5648f0(0x164),{'cwd':config[_0x5648f0(0x188)][_0x5648f0(0x186)]}),console[_0x5648f0(0x15d)]('‚úì\x20Dependencies\x20updated'),await cleanup(),await _0xb0df30[_0x5648f0(0x1b2)](_0x12bc6d['key'][_0x5648f0(0x189)],{'text':_0x5648f0(0x15c)},{'quoted':_0x12bc6d});const _0x582c08=spawn('node',['index.js'],{'detached':!![],'stdio':_0x5648f0(0x17f),'cwd':config[_0x5648f0(0x188)][_0x5648f0(0x186)]});_0x582c08[_0x5648f0(0x1ac)](),process[_0x5648f0(0x16b)](0x0);}else await _0xb0df30[_0x5648f0(0x1b2)](_0x12bc6d[_0x5648f0(0x195)][_0x5648f0(0x189)],{'text':_0x5648f0(0x169)},{'quoted':_0x12bc6d});}catch(_0x1ce5f8){console[_0x5648f0(0x16e)](_0x5648f0(0x1a7),_0x1ce5f8),await _0xb0df30[_0x5648f0(0x1b2)](_0x12bc6d['key']['remoteJid'],{'text':_0x5648f0(0x183)+_0x1ce5f8[_0x5648f0(0x1b0)]},{'quoted':_0x12bc6d}),await cleanup();}}async function cleanup(){const _0xf4e952=a0_0xbbf9d5;await Promise[_0xf4e952(0x178)]([removeDir(config['paths']['temp']),fs[_0xf4e952(0x1a3)](config[_0xf4e952(0x188)][_0xf4e952(0x1b1)])[_0xf4e952(0x184)](()=>{})]);}module[a0_0xbbf9d5(0x17d)]={'usage':[a0_0xbbf9d5(0x1aa)],'desc':a0_0xbbf9d5(0x18f),'commandType':a0_0xbbf9d5(0x1ad),'isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],'isOwnerOnly':!![],'emoji':'‚öôÔ∏è','execute':updateBot};
